{% extends "layouts/base.njk" %}

{% block beforeContent %}

{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-quarter-from-desktop">
      {{ xGovukSubNavigation({
        items: collections.ordered | eleventyNavigation(sectionKey or options.homeKey) | itemsFromNavigation(page.url, { pathPrefix: options.pathPrefix })
      }) }}
    </div>
    
    <div class="govuk-grid-column-three-quarters-from-desktop">
      <header class="app-document-header">
        <span class="govuk-caption-xl">{{ eleventyNavigation.parent }}</span>
        <h1 class="app-document-header__title govuk-heading-xl">
          {{ title | smart }}
        </h1>
        {% if description %}
          <p class="app-document-header__description govuk-body-l">
            {{ description | markdown("inline") }}
          </p>
        {% endif %}
      </header>

      {% if examples %}
        <section class="app-document-examples">
          {% if (examples | length ) > 1 %}
            <h2 class="app-document-examples__title govuk-heading-l">Examples</h2>
            <ul class="app-document-examples__items govuk-list">
              {% for i in range(0, examples | length ) %}
                <li>
                  <a class="govuk-link" href="{{ examples[i].link }}">{{ examples[i].title }}</a>
                </li>
              {% endfor %}
            </ul>
            {% if contentDataLink %}
              <p class="govuk-body">Complete list of examples available on <a href="{{ contentDataLink }}" class="govuk-link">Content Data</a>.</p>
            {% endif %}
          {% else %}
            <h2 class="app-document-examples__title govuk-heading-l">Example</h2>
            <p class="govuk-body">
              <a class="govuk-link" href="{{ examples[0].link }}">{{ examples[0].title }}</a>
            </p>
          {% endif %}
        </section>      
      {% endif %}
      
      {% include 'partials/insights.njk' %}
      {% include 'partials/improve.njk' %}
      {% include 'partials/contribute.njk' %}

      {{ appProseScope(content) if content }}

      {% include "layouts/shared/related.njk" %}
    </div>
  </div>
{% endblock %}